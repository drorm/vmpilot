## `git_track.py` Edit Steps

### Step 1
1. **Rename Function**
   - Rename `is_git_repo` to `is_dir_git_repo` everywhere it appears in the file.

2. **Modify Enum**
   - If there is an Enum class (e.g., `GitState`), add a value:  
     `UNDO = "undo"`  
     Ensure any switch/case or usage is updated accordingly.

3. **Change Logging Level**
   - Change all instances of `logging.INFO` to `logging.DEBUG`.

4. **Insert Docstring**
   - For the function `commit_llm_changes` (or a suitable core function), set the docstring to:  
     """Commit changes generated by the LLM to the git repository with a provided message."""

### Step 2

5. **Refactor Import**
   - Change `import vmpilot.worker_llm as worker_llm`  
     to  
     `from vmpilot import worker_llm`

6. **Add Typing Annotation**
   - For the function `commit_llm_changes(message)`, change to:  
     `def commit_llm_changes(message: str) -> None:`

7. **Add New Utility Function**
   - Add at the end of the file:  
     ```python
     def current_branch() -> str:
         """Return the name of the current git branch."""
         result = subprocess.run(["git", "branch", "--show-current"], stdout=subprocess.PIPE, check=True)
         return result.stdout.decode().strip()
     ```


## `usage.py` Edit Steps

### Step 3

1. **Rename Class**
   - Rename `Usage` class to `TokenUsageTracker` throughout the file.

2. **Update Comment**
   - At the top, make the module docstring:  
     """  
     Token usage tracking for VMPilot.  
     Tracks and calculates costs for Anthropic, OpenAI, and Google models.  
     """

3. **Change Model Name**
   - Change every `"gpt-3.5-turbo"` to `"gpt-4o"`.

4. **Add a Property**
   - In `TokenUsageTracker`, add:  
     ```python
     @property
     def total_tokens(self) -> int:
         """Return the total tokens used so far."""
         return self._total_tokens
     ```

# Step 4

5. **Add Argument**
   - Add `track_costs: bool = True` to the class `__init__` signature and set `self.track_costs = track_costs` inside.

6. **Move Import**
   - Move `from litellm import model_cost` to be the first import after the module docstring.

7. **Insert Usage Example**
   - After the module docstring, add:
     ```python
     # Example:
     # tracker = TokenUsageTracker()
     # tracker.add_tokens("gpt-4o", 100)
     # print(tracker.total_tokens)
     ```
